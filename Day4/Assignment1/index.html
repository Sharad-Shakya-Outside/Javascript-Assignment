<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rotate Two Boxes - Day 4 Assignment 1</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <main class="container">
        <section class="viewport">
            <code>
                let options = {
                    root: null,
                    rootMargin: "-100px",
                    threshold: 0
                };
                
                let observer = new IntersectionObserver(rotate, options);
                
                let boxOnce = document.querySelector("#box-once");
                let boxEvery = document.querySelector("#box-every");
                
                observer.observe(boxOnce);
                observer.observe(boxEvery);
                
                function rotate(entries, observer) {
                    entries.forEach((entry) => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add("rotate");
                
                            if (entry.target.classList.contains("boxes__rotate--once")) {
                                observer.unobserve(boxOnce);
                            }
                        } else {
                            if (entry.target.classList.contains("boxes__rotate--every")) {
                                entry.target.classList.remove("rotate");
                            }
                        }
                    })
                }
            </code>
        </section>

        <section class="boxes">
            <div id="box-once" class="boxes__rotate boxes__rotate--once">Only once</div>
            <div id="box-every" class="boxes__rotate boxes__rotate--every">Every appearance</div>
        </section>

        <section class="viewport"></section>

    </main>

    <script src="script.js"></script>
</body>

</html>